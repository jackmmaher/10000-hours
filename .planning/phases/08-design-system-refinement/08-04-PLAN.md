---
phase: 08-design-system-refinement
plan: 04
type: execute
domain: design-ui-skills
---

<objective>
Standardize transition timing to 3 tokens (fast/base/slow) and document animation guidelines.

Purpose: The Human-Crafted Design skill specifies exact timing: 150ms (fast), 200ms (base), 300ms (slow). Current app uses 400ms and 600ms which are slower than recommended. Standardize and document.
Output: Transition CSS variables, updated Tailwind config, ANIMATION.md documentation.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./08-04-SUMMARY.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-design-system-refinement/08-01-SUMMARY.md
@.planning/phases/08-design-system-refinement/08-02-SUMMARY.md
@.planning/phases/08-design-system-refinement/08-03-SUMMARY.md

**Source files:**
@src/index.css
@tailwind.config.js

**Analysis context:**
Skill-recommended timing:
- Fast: 150ms ease-out (micro-interactions)
- Base: 200ms ease-out (expanding/collapsing)
- Slow: 300ms ease-in-out (page transitions)

Current app uses:
- 400ms in tailwind.config.js - slower than recommended
- 600ms in tailwind.config.js - much slower than recommended
- 0.5s (500ms) for theme transitions - acceptable for color changes

The skill notes:
- ease-out (fast start, slow end): Responsive, snappy, friendly
- ease-in-out: Smooth, elegant, refined
- linear: Mechanical (rarely appropriate)
- spring/bounce: Playful (use sparingly)

**Exception:** The 0.5s theme-transition for color changes is acceptable since color changes need to feel gradual, not jarring.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add transition CSS variables to index.css</name>
  <files>src/index.css</files>
  <action>
Add transition timing variables to :root after the TYPOGRAPHY SCALE section:

```css
/* === TRANSITION TIMING === */
/* Per Human-Crafted Design: fast/base/slow only */
--transition-fast: 150ms ease-out;
--transition-base: 200ms ease-out;
--transition-slow: 300ms ease-in-out;

/* Easing curves */
--ease-out: cubic-bezier(0.33, 1, 0.68, 1);
--ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
--ease-organic: cubic-bezier(0.34, 1.56, 0.64, 1);
```

Note: Keep the existing --theme-transition: 0.5s ease for color changes. That's intentionally slower for gradual theme shifts.

Do NOT modify existing animation keyframes or other CSS - only add the new variables.
  </action>
  <verify>grep "transition-fast" src/index.css returns the new variables</verify>
  <done>Transition timing CSS variables added to :root</done>
</task>

<task type="auto">
  <name>Task 2: Update Tailwind config transition utilities</name>
  <files>tailwind.config.js</files>
  <action>
Update the transitionDuration and transitionTimingFunction in theme.extend:

Replace the existing:
```javascript
transitionDuration: {
  '400': '400ms',
  '600': '600ms',
},
transitionTimingFunction: {
  'organic': 'cubic-bezier(0.34, 1.56, 0.64, 1)',
  'gentle': 'cubic-bezier(0.4, 0, 0.2, 1)',
}
```

With:
```javascript
transitionDuration: {
  // Design system timing (prefer these)
  'fast': '150ms',
  'base': '200ms',
  'slow': '300ms',
  // Legacy - deprecated, use above instead
  '400': '400ms',
  '600': '600ms',
},
transitionTimingFunction: {
  // Design system easing
  'out': 'var(--ease-out)',
  'in-out': 'var(--ease-in-out)',
  'organic': 'var(--ease-organic)',
  // Legacy alias
  'gentle': 'cubic-bezier(0.4, 0, 0.2, 1)',
},
```

This adds semantic duration names while keeping legacy values for backward compatibility.
Usage: `duration-fast`, `duration-base`, `duration-slow`, `ease-out`, `ease-in-out`, `ease-organic`
  </action>
  <verify>grep "duration-fast" tailwind.config.js || grep "'fast'" tailwind.config.js returns config</verify>
  <done>Tailwind extended with semantic duration and easing utilities</done>
</task>

<task type="auto">
  <name>Task 3: Create ANIMATION.md documentation</name>
  <files>.planning/codebase/ANIMATION.md</files>
  <action>
Create documentation file with:

```markdown
# Animation & Transition Guidelines

Per Human-Crafted Design skill principles.

## Transition Timing Tokens

| Token | Duration | Easing | Use Case |
|-------|----------|--------|----------|
| `--transition-fast` | 150ms | ease-out | Micro-interactions: hover, active states |
| `--transition-base` | 200ms | ease-out | Standard: expand/collapse, show/hide |
| `--transition-slow` | 300ms | ease-in-out | Page transitions, modal enter/exit |

### Tailwind Classes

```
duration-fast  → 150ms
duration-base  → 200ms
duration-slow  → 300ms
ease-out       → cubic-bezier(0.33, 1, 0.68, 1)
ease-in-out    → cubic-bezier(0.65, 0, 0.35, 1)
ease-organic   → cubic-bezier(0.34, 1.56, 0.64, 1) (slight overshoot)
```

## Easing Curves

- **ease-out**: Responsive, snappy - default for most UI interactions
- **ease-in-out**: Smooth, elegant - for larger movements
- **ease-organic**: Playful overshoot - use sparingly for delight moments

## Guidelines

### DO
- Use `duration-fast` for hover/active states
- Use `duration-base` for most component transitions
- Use `duration-slow` for modal/sheet animations
- Apply transitions to specific properties, not `all`

### DON'T
- Use `duration-400` or `duration-600` (deprecated)
- Use linear easing for UI (feels mechanical)
- Apply spring/bounce to functional UI (only celebration moments)

## Existing Animations

The app has these purposeful animations that should NOT change:

| Animation | Purpose | Timing |
|-----------|---------|--------|
| `orbBreathe` | Meditation orb idle | 4-6s (intentionally slow) |
| `atmosphereBreathe` | Background atmosphere | 6-8s (environmental) |
| `skeletonWave` | Loading placeholder | 1.5s (subtle) |

These are ambient/environmental animations, not UI transitions.

## Theme Transition Exception

`--theme-transition: 0.5s ease` is intentionally slower than standard UI transitions. Color changes across the entire app should feel gradual and calm, not jarring.

## Migration

Replace legacy timing:
- `duration-400` → `duration-slow` or `duration-base`
- `duration-600` → `duration-slow`
- `transition-all` → `transition-colors` or `transition-transform` (be specific)
```
  </action>
  <verify>cat .planning/codebase/ANIMATION.md shows complete documentation</verify>
  <done>ANIMATION.md created with timing tokens, easing curves, and migration guidance</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `grep "transition-fast" src/index.css` returns timing variables
- [ ] `grep "'fast'" tailwind.config.js` returns duration config
- [ ] `.planning/codebase/ANIMATION.md` exists with full documentation
- [ ] `npm run build` succeeds without errors
</verification>

<success_criteria>
- Transition timing CSS variables defined (fast/base/slow)
- Easing curve CSS variables defined
- Tailwind extended with semantic duration utilities
- Documentation created with guidelines and migration path
- No breaking changes - legacy values still work
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/08-design-system-refinement/08-04-SUMMARY.md`:

Include:
- New tokens added
- Tailwind utilities added
- Documentation created
- Note: Phase 08 complete - Design System Refinement finished
</output>
