---
phase: 01-haptic-vocabulary
plan: 01
type: execute
---

<objective>
Expand haptic vocabulary from 3 patterns to 7+ with semantic meaning and contextual variations.

Purpose: Create a richer tactile language that communicates different feedback types (success, error, warning, significant action) and contextual moments (breath phases, settling).
Output: Enhanced `useTapFeedback.ts` with expanded pattern vocabulary and documentation.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/hooks/useTapFeedback.ts

**Current haptic patterns:**
- light: [10] - Quick tap
- medium: [25] - Noticeable tap
- success: [15, 50, 15] - Celebratory pattern

**Needed patterns (from DOSE analysis):**
- error: Sharp double-pulse (uncomfortable = memorable)
- warning: Quick double-tap (attention without alarm)
- heavy: Significant action (delete, publish)
- breatheIn: Inhale cue (optional breath sync)
- breatheOut: Exhale cue (lighter than in)
- settle: Energy dissipating (post-session zen)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Expand haptic patterns in useTapFeedback.ts</name>
  <files>src/hooks/useTapFeedback.ts</files>
  <action>
Add new haptic patterns to VIBRATION_PATTERNS:

```typescript
type FeedbackIntensity =
  | 'light' | 'medium' | 'success'  // existing
  | 'error' | 'warning' | 'heavy'   // new standard
  | 'breatheIn' | 'breatheOut' | 'settle'  // new contextual

const VIBRATION_PATTERNS: Record<FeedbackIntensity, number[]> = {
  // Existing
  light: [10],
  medium: [25],
  success: [15, 50, 15],

  // New standard patterns
  error: [50, 100, 50],      // Sharp double-pulse
  warning: [30, 30],         // Quick double-tap
  heavy: [80],               // Significant action

  // Contextual patterns (breath/meditation)
  breatheIn: [20, 80],       // Rising pattern (inhale)
  breatheOut: [80, 40, 20, 10], // Settling pattern (exhale)
  settle: [50, 20, 10]       // Energy dissipating
}
```

Update the return object to expose all new patterns as named functions.

Avoid: Changing existing pattern values (light/medium/success are used throughout app).
  </action>
  <verify>TypeScript compiles without errors: `npx tsc --noEmit`</verify>
  <done>All 9 patterns defined, type updated, functions exported</done>
</task>

<task type="auto">
  <name>Task 2: Add JSDoc documentation for haptic vocabulary</name>
  <files>src/hooks/useTapFeedback.ts</files>
  <action>
Add comprehensive JSDoc comments documenting when to use each pattern:

```typescript
/**
 * Haptic Feedback Vocabulary
 *
 * STANDARD PATTERNS (use throughout app):
 * - light: Acknowledgment (tab change, toggle, minor action)
 * - medium: Intentional feedback (session start, significant interaction)
 * - success: Celebration (session complete, milestone, achievement)
 * - error: Failure notification (action blocked, validation failed)
 * - warning: Attention needed (destructive action confirmation)
 * - heavy: Significant action completed (delete, publish to community)
 *
 * CONTEXTUAL PATTERNS (meditation-specific):
 * - breatheIn: Optional breath sync - inhale cue
 * - breatheOut: Optional breath sync - exhale cue
 * - settle: Post-session settling, energy dissipating
 *
 * iOS NOTE: navigator.vibrate() not supported on iOS Safari.
 * These patterns gracefully degrade (no-op) on unsupported platforms.
 */
```

Add inline comments explaining the rationale for each pattern's timing.
  </action>
  <verify>Documentation visible in IDE hover tooltips</verify>
  <done>All patterns documented with usage guidance</done>
</task>

<task type="auto">
  <name>Task 3: Update existing haptic usages for semantic correctness</name>
  <files>src/components/JourneySavedContent.tsx</files>
  <action>
Review and update delete action haptics to use new semantic patterns:

Current (line ~155-162):
- Delete action: medium()
- Delete successful: success()

Should be:
- Delete action (confirmation): warning() - draws attention to destructive action
- Delete successful: heavy() - significant action completed

This is more semantically correct - success() is for achievements/celebrations, not destructive confirmations.

Only change these specific usages. Do not touch other files in this task.
  </action>
  <verify>Delete flow uses warning + heavy haptics appropriately</verify>
  <done>Delete haptics semantically correct</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npx tsc --noEmit` passes
- [ ] All 9 haptic patterns compile and export correctly
- [ ] useTapFeedback hook returns all new functions
- [ ] Delete action uses warning/heavy (not medium/success)
</verification>

<success_criteria>

- All tasks completed
- TypeScript compiles without errors
- Haptic vocabulary expanded from 3 to 9 patterns
- Documentation added for all patterns
- At least one semantic correction applied (delete flow)
</success_criteria>

<output>
After completion, create `.planning/phases/01-haptic-vocabulary/01-01-SUMMARY.md`
</output>
